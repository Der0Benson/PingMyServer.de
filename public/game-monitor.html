<!doctype html>
<html lang="de">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta
      name="description"
      data-i18n-content="meta.game_monitor.description"
      content="Game Monitor fuer Minecraft: Serverstatus, Ping, Spielerzahlen und weitere Live-Metriken."
    />
    <meta name="robots" content="noindex, nofollow" />
    <meta name="googlebot" content="noindex, nofollow" />
    <meta name="theme-color" content="#0b0f14" />
    <link rel="icon" type="image/png" href="/assets/pingmyserverlogo.png" />
    <link rel="apple-touch-icon" href="/assets/pingmyserverlogo.png" />
    <link rel="manifest" href="/site.webmanifest" />
    <title data-i18n="meta.game_monitor.title">Game Monitor - PingMyServer</title>
    <link rel="stylesheet" href="/assets/styles.css" />
    <link rel="stylesheet" href="/assets/game-monitor.css" />
    <link rel="stylesheet" href="/assets/i18n.css" />
    <link rel="stylesheet" href="/assets/footer.css" />
  </head>
  <body class="dashboard-page">
    <div class="app">
      <aside class="sidebar" id="dashboard-sidebar">
        <a
          class="brand brand-link"
          href="/"
          data-i18n-aria-label="common.aria.home"
          aria-label="PingMyServer Startseite"
        >
          <img class="brand-logo" src="/assets/pingmyserverlogo.png" alt="PingMyServer" />
          <span class="brand-name">PingMyServer.de</span>
        </a>
        <nav class="side-nav">
          <a href="/app" data-i18n="common.monitoring">Monitoring</a>
          <a href="/monitors" data-i18n="common.monitors">Monitore</a>
          <a href="/incidents" data-i18n="common.incidents">Vorfaelle</a>
          <a href="/notifications" data-i18n="common.notifications">Benachrichtigungen</a>
          <a class="active" href="/game-monitor" data-i18n="common.game_monitor">Game Monitor</a>
          <a href="/connections" data-i18n="common.connections">Connections</a>
          <a href="/owner" data-owner-link hidden data-i18n="common.owner_ops">Owner Ops</a>
          <a href="/status" target="_blank" rel="noreferrer" data-i18n="common.status_page">Statusseite</a>
        </nav>
        <div class="side-footer">
          <a
            class="user-pill profile-link"
            href="/connections"
            data-i18n-aria-label="common.aria.profile_settings"
            aria-label="Connections und Kontoeinstellungen"
          >
            <span class="avatar small">U</span>
            <span class="muted" id="current-user-email" data-i18n="common.signed_in">eingeloggt</span>
          </a>
          <div class="lang-picker">
            <span class="sr-only" data-i18n="common.language">Sprache</span>
            <details class="lang-menu">
              <summary class="lang-summary" data-i18n-aria-label="common.language" aria-label="Language">
                <img class="lang-flag-img" data-lang-block="de" src="/assets/flags/de.svg" alt="" aria-hidden="true" />
                <img
                  class="lang-flag-img"
                  data-lang-block="en"
                  src="/assets/flags/gb.svg"
                  alt=""
                  aria-hidden="true"
                  hidden
                />
              </summary>
              <div class="lang-options" data-i18n-aria-label="common.language" aria-label="Language">
                <button class="lang-option" type="button" data-set-lang="de" data-i18n-aria-label="common.lang_de" aria-label="Deutsch">
                  <img class="lang-flag-img" src="/assets/flags/de.svg" alt="" aria-hidden="true" />
                </button>
                <button class="lang-option" type="button" data-set-lang="en" data-i18n-aria-label="common.lang_en" aria-label="English">
                  <img class="lang-flag-img" src="/assets/flags/gb.svg" alt="" aria-hidden="true" />
                </button>
              </div>
            </details>
          </div>
          <button class="btn ghost" id="logout-btn" type="button" data-i18n="common.logout">Abmelden</button>
        </div>
      </aside>
      <button
        class="mobile-nav-backdrop"
        id="mobile-nav-backdrop"
        type="button"
        aria-label="Navigation schliessen"
        hidden
      ></button>

      <div class="content">
        <div class="page">
          <div class="crumb" data-i18n="game_monitor.dashboard.crumb">Game Monitoring</div>
          <header class="topbar">
            <div class="title-block">
              <button
                class="mobile-sidebar-toggle"
                id="mobile-nav-toggle"
                type="button"
                aria-controls="dashboard-sidebar"
                aria-expanded="false"
                aria-label="Navigation oeffnen"
              >
                <span class="mobile-sidebar-toggle-line"></span>
                <span class="mobile-sidebar-toggle-line"></span>
                <span class="mobile-sidebar-toggle-line"></span>
              </button>
              <img class="logo-mark" src="/assets/pingmyserverlogo.png" alt="" aria-hidden="true" />
              <div>
                <div class="title" id="server-name">Minecraft Game Monitor</div>
                <div class="subtitle" data-i18n="game_monitor.dashboard.header_subtitle">
                  Live Uebersicht fuer deine Minecraft Mod Verbindung
                </div>
              </div>
            </div>
            <div class="top-actions">
              <span id="top-status-badge" class="status-pill loading">Loading</span>
              <span class="muted topbar-last-update" id="top-last-update" data-i18n="game_monitor.dashboard.updated_fallback"
                >Letztes Update: --</span
              >
              <button class="btn ghost" id="refresh-btn" type="button" data-i18n="common.refresh">Aktualisieren</button>
              <button class="btn primary" id="create-pairing-btn" type="button" data-i18n="game_monitor.dashboard.create_pairing">
                Verifizierungscode erzeugen
              </button>
            </div>
          </header>

          <main class="game-monitor-page">
            <section class="game-package">
              <article class="card wide game-connection-card">
                <div class="card-title" data-i18n="game_monitor.dashboard.connection.title">Minecraft Mod Connection</div>
                <p class="muted game-connection-sub" data-i18n="game_monitor.dashboard.connection.sub">
                  Nutze den Pairing-Code in deiner Mod. Sobald Heartbeats ankommen, erscheinen die Live-Metriken automatisch.
                </p>
                <div class="mod-pairing-box" id="mod-pairing-box">
                  <div class="mod-pairing-row">
                    <span class="mod-pairing-label" data-i18n="game_monitor.dashboard.connection.code_label">Aktueller Code</span>
                    <code class="mod-pairing-code" id="mod-pairing-code">------</code>
                  </div>
                  <div class="mod-pairing-row">
                    <span class="mod-pairing-label" data-i18n="game_monitor.dashboard.connection.expires_label">Gueltig bis</span>
                    <span class="mod-pairing-expiry" id="mod-pairing-expiry">--</span>
                  </div>
                </div>
                <p class="panel-message" id="game-monitor-message"></p>
              </article>

              <section class="dashboard game-dashboard">
                <section class="main-col">
                  <article class="card wide">
                    <div class="card-title" data-i18n="game_monitor.dashboard.kpis.title">Server KPIs</div>
                    <div class="summary-grid" id="summary-grid"></div>
                  </article>

                  <div class="grid game-chart-grid">
                    <article class="card">
                      <div class="card-title" data-i18n="game_monitor.dashboard.charts.tps_title">TPS ueber Zeit</div>
                      <div class="chart">
                        <svg id="tps-chart" viewBox="0 0 960 240" preserveAspectRatio="none" aria-hidden="true"></svg>
                      </div>
                      <div class="stat-row">
                        <div>
                          <div class="stat-title" data-i18n="game_monitor.dashboard.chart_stats.minimum">Minimum</div>
                          <div class="stat-value" id="tps-min">--</div>
                        </div>
                        <div>
                          <div class="stat-title" data-i18n="game_monitor.dashboard.chart_stats.maximum">Maximum</div>
                          <div class="stat-value" id="tps-max">--</div>
                        </div>
                        <div>
                          <div class="stat-title" data-i18n="game_monitor.dashboard.chart_stats.current">Aktuell</div>
                          <div class="stat-value" id="tps-current">--</div>
                        </div>
                      </div>
                    </article>

                    <article class="card">
                      <div class="card-title" data-i18n="game_monitor.dashboard.charts.players_title">Spieler ueber Zeit</div>
                      <div class="chart">
                        <svg id="players-chart" viewBox="0 0 960 240" preserveAspectRatio="none" aria-hidden="true"></svg>
                      </div>
                      <div class="stat-row">
                        <div>
                          <div class="stat-title" data-i18n="game_monitor.dashboard.chart_stats.peak">Peak</div>
                          <div class="stat-value" id="players-peak">--</div>
                        </div>
                        <div>
                          <div class="stat-title" data-i18n="game_monitor.dashboard.chart_stats.average">Durchschnitt</div>
                          <div class="stat-value" id="players-avg">--</div>
                        </div>
                        <div>
                          <div class="stat-title" data-i18n="game_monitor.dashboard.chart_stats.current">Aktuell</div>
                          <div class="stat-value" id="players-current">--</div>
                        </div>
                      </div>
                    </article>
                  </div>

                  <article class="card wide">
                    <div class="card-title" data-i18n="game_monitor.dashboard.live_metrics.title">Live Server Metrics</div>
                    <div class="metrics-table-wrap">
                      <table class="metrics-table">
                        <tbody id="metrics-body"></tbody>
                      </table>
                    </div>
                  </article>

                  <article class="card wide">
                    <div class="card-title" data-i18n="game_monitor.dashboard.events.title">Events / Incidents</div>
                    <div class="events-list" id="events-list"></div>
                  </article>
                </section>

                <aside class="side-col">
                  <article class="card">
                    <div class="card-title" data-i18n="game_monitor.dashboard.sessions.title">Mod Sessions</div>
                    <div class="mod-sessions" id="mod-sessions-list"></div>
                  </article>

                  <article class="card">
                    <div class="card-title" data-i18n="game_monitor.dashboard.plugins.title">Mods & Plugins</div>
                    <p class="muted" id="plugins-summary" data-i18n="game_monitor.dashboard.plugins.empty">
                      Noch keine Plugin-Daten aus der Mod erhalten.
                    </p>
                    <div class="plugins-list" id="plugins-list"></div>
                  </article>

                  <article class="card">
                    <div class="card-title" data-i18n="game_monitor.dashboard.latency.title">Latency by Region</div>
                    <p class="muted" id="latency-summary" data-i18n="game_monitor.dashboard.latency.empty">
                      Noch keine regionalen Latenzwerte verfuegbar.
                    </p>
                    <div class="latency-list" id="latency-list"></div>
                  </article>

                  <article class="card">
                    <div class="card-title" data-i18n="game_monitor.dashboard.discord.title">Discord Integration</div>
                    <div class="discord-card-copy">
                      <div class="discord-head">
                        <svg class="discord-icon" viewBox="0 0 127.14 96.36" role="img" aria-label="Discord">
                          <path
                            d="M107.7 8.07A105.15 105.15 0 0 0 81.47 0a72.06 72.06 0 0 0-3.36 6.83A97.68 97.68 0 0 0 49 6.83 72.37 72.37 0 0 0 45.64 0 105.89 105.89 0 0 0 19.39 8.09C2.79 32.65-1.7 56.6.54 80.21a105.73 105.73 0 0 0 32.17 16.15 77.7 77.7 0 0 0 6.89-11.27 68.42 68.42 0 0 1-10.85-5.18c.91-.66 1.79-1.34 2.64-2.04 20.9 9.82 43.65 9.82 64.32 0 .85.7 1.73 1.38 2.64 2.04a68.68 68.68 0 0 1-10.87 5.19 77 77 0 0 0 6.89 11.26A105.25 105.25 0 0 0 126.6 80.2c2.63-27.38-4.49-51.11-18.9-72.13ZM42.45 65.69C36.18 65.69 31 59.96 31 52.91s5-12.78 11.43-12.78c6.48 0 11.57 5.78 11.46 12.78 0 7.05-5.04 12.78-11.44 12.78Zm42.24 0c-6.27 0-11.43-5.73-11.43-12.78s5-12.78 11.43-12.78c6.48 0 11.57 5.78 11.46 12.78 0 7.05-5.03 12.78-11.46 12.78Z"
                          ></path>
                        </svg>
                        <span class="metric" data-i18n="game_monitor.dashboard.discord.channel">#server-status</span>
                      </div>
                      <div class="discord-row">
                        <span class="muted" data-i18n="game_monitor.dashboard.discord.status_label">Status</span>
                        <span class="status-pill loading" id="discord-status-pill" data-i18n="game_monitor.dashboard.discord.status_loading"
                          >Wird geladen</span
                        >
                      </div>
                      <button class="btn primary" id="discord-test-btn" type="button" disabled data-i18n="game_monitor.dashboard.discord.test_button">
                        Send test alert
                      </button>
                      <p class="muted" id="discord-status-copy" data-i18n="game_monitor.dashboard.discord.status_loading_desc">
                        Discord-Konfiguration wird geladen.
                      </p>
                      <a class="btn ghost" href="/connections" data-i18n="game_monitor.dashboard.discord.settings_link">Zu den Einstellungen</a>
                    </div>
                  </article>

                  <article class="card">
                    <div class="card-title" data-i18n="game_monitor.dashboard.insight.title">AI Insight</div>
                    <p class="muted insight-line" id="insight-line-1"></p>
                    <p class="muted insight-line" id="insight-line-2"></p>
                  </article>
                </aside>
              </section>
            </section>
          </main>

          <footer class="site-footer">
            <span class="site-footer-note" data-i18n="common.legal">Rechtliches</span>
            <nav class="site-footer-links" aria-label="Rechtliche Navigation">
              <a href="/nutzungsbedingungen" data-i18n="common.terms">Nutzungsbedingungen</a>
              <a href="/datenschutz" data-i18n="common.privacy">Datenschutz</a>
              <a href="/impressum" data-i18n="common.imprint">Impressum</a>
            </nav>
          </footer>
        </div>
      </div>
    </div>

    <script src="/assets/i18n.js"></script>
    <script src="/assets/dashboard-shell.js"></script>
    <script src="/assets/game-monitor.js"></script>
  </body>
</html>
